function nextImg(){imgsIndex<img.length-1?imgsIndex+=1:imgsIndex=0,imgsSrc=img.eq(imgsIndex).attr("src"),lightbox.find("img").attr("src",imgsSrc)}function prevImg(){imgsIndex>0?imgsIndex-=1:imgsIndex=img.length-1,imgsSrc=img.eq(imgsIndex).attr("src"),lightbox.find("img").attr("src",imgsSrc)}var imgsSrc,imgsIndex,img=$(".gallery-box img"),lightbox=$(".lightbox"),overlay=$(".overlay"),prev=$(".gallery .prev"),next=$(".gallery .next"),overlayImg=$(".overlay__img");img.on("click",function(){imgsIndex=img.index(this),imgsSrc=$(this).attr("src"),lightbox.find("img").attr("src",imgsSrc),lightbox.fadeIn(),overlay.fadeIn()}),overlay.on("click",function(){$(window).width()>768&&($(this).fadeOut(),lightbox.fadeOut())}),overlayImg.on("click",function(e){e.stopPropagation(),nextImg()}),next.on("click",function(e){e.stopPropagation(),nextImg()}),prev.on("click",function(e){e.stopPropagation(),prevImg()});var swipeStart={},swipeStop={},swipeThresholds={scrollSupressionThreshold:10,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,durationThreshold:1e3},overlayImgSwipe=document.querySelector(".overlay__img");overlayImgSwipe.addEventListener("touchstart",function(e){e.stopPropagation(),swipeStart={coords:[e.touches[0].clientX,e.touches[0].clientY],time:Date.now()}}),overlayImgSwipe.addEventListener("touchend",function(e){e.stopPropagation(),(swipeStop={coords:[e.changedTouches[0].clientX,e.changedTouches[0].clientY],time:Date.now()}).time-swipeStart.time<swipeThresholds.durationThreshold&&Math.abs(swipeStart.coords[0]-swipeStop.coords[0])>swipeThresholds.horizontalDistanceThreshold&&Math.abs(swipeStart.coords[1]-swipeStop.coords[1])<swipeThresholds.verticalDistanceThreshold&&(swipeStart.coords[0]>swipeStop.coords[0]?nextImg():prevImg())});